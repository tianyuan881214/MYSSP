//>>built
define("yadaWight/mtree",["dojo/_base/declare","dojo/data/ItemFileWriteStore","dojo/ready","dojo/dom","dijit/Tree","dijit/tree/ForestStoreModel","dijit/registry"],function(_1,_2,_3,_4,_5,_6,_7){return _1(null,{url:"",nid:"",showId:"",showUrl:"",parentId:"0",self:this,constructor:function(_8){_1.safeMixin(this,_8);this.getTree().startup();},set:function(_9,_a){this[_9]=_a;},get:function(_b){return this[_b];},getStore:function(){return new _2({url:this.url});},getModel:function(){return new _6({store:this.getStore(),query:{pmenuResId:this.parentId},rootId:"0",rootLabel:"主菜单",mayHaveChildren:function(_c){return _c.pmenuResId=="0"||_c.actionName==""||_c.root==true;},getChildren:function(_d,_e,_f){if(_d.root==true){if(this.root.children){_e(this.root.children);}else{this.store.fetch({query:this.query,queryOptions:{cache:false},onComplete:dojo.hitch(this,function(_10){this.root.children=_10;_e(_10);}),onError:_f});}}else{var sx=_d.menuResId;this.store.fetch({query:{pmenuResId:sx.toString()},queryOptions:{cache:false},onComplete:dojo.hitch(this,function(_11){_d.children=_11;_e(_11);}),onError:_f});}}});},getTree:function(){var _12=this.showId;var _13=this.showUrl;return _5({model:this.getModel(),onClick:function(_14){if(_14.root==true){alert("主菜单不允许操作.");return false;}_7.byId(_12).set("href",_13+"?menuResId="+_14.menuResId+"&time="+new Date().getTime());},domNode:_4.byId(this.nid)});}});});